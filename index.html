<html>
<head>
    <title>MagView ShipIt</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/user.css">
</head>
<body>
  <br/>
  <div class="container">
      <div class="row">
          <div class="col-md-9">
            <div class="jumbotron">
              <h3>Text 443-569-7778 to vote!</h3>
            </div>
            <table id="DataTable" class="table">
                <tr>
                    <th>Project</th>
                    <th>Vote</th>
                    <th>Score</th>
                </tr>
            </table>
          </div>
          <div class="col-md-3">
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href='#'>Home</a></li>
                <li><a href='#'>Projects</a></li>
                <li><a href='#'>Reset Results</a></li>
            </ul>
          </div>
      </div>
  </div>
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  
  <script>
  $(document).ready(function () {
    $.ajax({
            url: 'http://mvshipit.webscript.io/results', success: function(data) {
            response = $.parseJSON(data);
            drawTable(response);
        }
    });
  });
    
    function drawTable(data) {
        for (var i = 0; i < data.length; i++) {
            drawRow(data[i]);
        }
    }
    
    function drawRow(rowData) {
        var row = $("<tr />")
        $("#DataTable").append(row); //this will append tr element to table... keep its reference for a while since we will add cels into it
        row.append($("<td>" + rowData.project + "</td>"));
        row.append($("<td>" + rowData.number + "</td>"));
        row.append($("<td>" + rowData.result + "</td>"));
    }
  </script>
</body>
</html>
