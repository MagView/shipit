<html>
<head>
    <title>MagView ShipIt</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/user.css">
</head>
<body>
  <br/>
  <div class="container">
      <div class="row">
          <div class="col-md-9">
            <h2>Projects</h2>
            <br/>
            <form class="form-inline">
             <div class="input-group"> 
                <div class="input-group-addon">#</div> 
                <input type="text" class="form-control" id="inpNumber" placeholder="Number">
            </div>
            <div class="input-group"> 
                <div class="input-group-addon">Name</div> 
                <input type="text" class="form-control" id="inpName" placeholder="Project Name">
            </div>
            <button type="submit" class="btn btn-default">Add</button>
            </form>
            <br/>
            <table id="DataTable" class="table table-striped">
                <tr>
                    <th>Project</th>
                    <th>Vote</th>
                    <th>Score</th>
                </tr>
            </table>
          </div>
          <div class="col-md-3">
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href='#'>Home</a></li>
                <li><a href='#'>Projects</a></li>
                <li><a href='#'>Reset Results</a></li>
            </ul>
          </div>
      </div>
  </div>
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  
  <script>
  $(document).ready(function () {
    $.ajax({
            url: 'http://mvshipit.webscript.io/results', success: function(data) {
            response = $.parseJSON(data);
            drawTable(response);
        }
    });
  });
    
    function drawTable(data) {
        for (var i = 0; i < data.length; i++) {
            drawRow(data[i]);
        }
    }
    
    function drawRow(rowData) {
        var row = $("<tr />")
        $("#DataTable").append(row); //this will append tr element to table... keep its reference for a while since we will add cels into it
        row.append($("<td>" + rowData.project + "</td>"));
        row.append($("<td><span class='info'>Text <span class='label label-info'>/vote" + rowData.number + "</span></span></td>"));
        row.append($("<td>" + rowData.result + "</td>"));
    }
  </script>
</body>
</html>
